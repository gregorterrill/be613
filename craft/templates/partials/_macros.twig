{#
 # Macros
 # ---------------
 #
 # These macros are available as {{ helpers.macroName(args) }}
 #
 #}

{# Output an SVG icon or logo #}
{% macro icon(iconName) %}
{% spaceless %}

{% switch iconName %}

  {% case 'logo' %}
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="251.8px" height="190.1px" viewBox="0 0 251.8 190.1" xml:space="preserve">
    <path fill="currentColor" d="M66.4,51.5c0.8-0.9,1.3-2.3,1.3-4.4c0.1-2.2-0.3-3.6-1.1-4.1c-0.8-0.5-1.8-0.7-3.1-0.5l-4.9,0.7l-0.3,10.6
      l4.9-0.7C64.5,52.9,65.5,52.4,66.4,51.5z"/>
    <path fill="currentColor" d="M66.1,72c0.5-0.5,0.8-1.1,1.1-1.9c0.3-0.8,0.5-1.9,0.5-3.3c0-1.2-0.1-2.2-0.3-3c-0.3-0.7-0.6-1.3-1-1.6
      c-0.4-0.3-0.9-0.5-1.5-0.6s-1.1-0.1-1.7,0l-5,0.7l-0.3,11.8l5-0.7c0.6-0.1,1.2-0.2,1.7-0.4C65.1,72.8,65.7,72.5,66.1,72z"/>
    <path fill="currentColor" d="M178.5,80.2l-8.3-40.1L178.5,0L0,27.9L12.3,68L0,108.1L178.5,80.2z M100.8,27.7l28.7-4.2l-0.2,9.6l-16.9,2.5
      l-0.3,10.1l15.3-2.2l-0.2,9.6l-15.3,2.2l-0.3,11.1l17.4-2.6l-0.2,9.6l-29.3,4.3L100.8,27.7z M47.6,35.4l17.3-2.5
      c2.7-0.4,4.9-0.4,6.7,0c1.8,0.4,3.2,1.1,4.3,2c1.1,1,1.9,2.2,2.3,3.6c0.5,1.4,0.7,3.1,0.6,4.9c-0.1,3.1-0.7,5.6-1.8,7.3
      c-1.1,1.8-2.7,3.2-4.6,4.4c1,0.3,2,0.7,2.8,1.2s1.6,1.2,2.1,2.1c0.6,0.9,1,2,1.3,3.4c0.3,1.3,0.4,3,0.4,4.9
      c-0.1,4.7-1.5,8.4-4.2,11c-2.7,2.6-6.3,4.2-11,4.9l-17.4,2.6L47.6,35.4z"/>
    <path fill="currentColor" d="M251.8,77.9l-201.1,32L63,150l-12.3,40.1l201.1-32l-8.3-40.1L251.8,77.9z M124,159.3
      c-2.9,3.4-6.9,5.5-12.1,6.3c-5.5,0.9-9.6,0-12.2-2.6s-3.9-7-3.8-13l0.1-12.2c0-4.5,0.6-8.2,1.6-11.2c1.1-3,2.5-5.4,4.3-7.2
      c1.8-1.9,3.9-3.3,6.3-4.2c2.4-1,5-1.7,7.7-2.1c0.9-0.2,2.1-0.3,3.6-0.4c1.4-0.1,3.2-0.1,5.2-0.1l-0.1,9.4c-2.6-0.2-5.2-0.1-7.7,0.3
      c-3.5,0.6-6,1.7-7.4,3.3c-1.4,1.7-2.2,4.2-2.2,7.7v1c1.1-0.7,2.3-1.3,3.6-1.7c1.3-0.4,2.6-0.8,3.9-1c9.1-1.5,13.7,3.3,13.6,14.2
      C128.3,151.5,126.9,155.9,124,159.3z M161.5,156.5l-11.8,1.9l0.4-39.6c-1.6,0.4-3.2,0.8-4.8,1.3s-3,1-4.2,1.5l0.1-9.2
      c0.6-0.3,1.5-0.7,2.7-1.1c1.1-0.5,2.4-0.9,3.7-1.4s2.7-0.9,4.1-1.3c1.4-0.4,2.7-0.7,4-0.9l6.3-1L161.5,156.5z M204.4,146.6
      c-2.9,2.8-7.5,4.7-13.9,5.8c-2.6,0.4-4.9,0.6-7,0.6s-3.8,0-5.2-0.1l0.1-9.6c1.1,0.1,2.7,0.2,4.7,0.2s4.1-0.2,6.1-0.5
      c3-0.5,5.1-1.4,6.4-2.6c1.2-1.2,1.9-2.8,1.9-4.7c0-1.2-0.2-2.1-0.5-2.8s-0.8-1.2-1.3-1.5c-0.6-0.3-1.2-0.5-2-0.5s-1.6,0-2.5,0.2
      l-6.6,1.1l0.1-9.6l7.1-1.1c1.9-0.3,3.3-0.9,4.2-1.9c0.9-0.9,1.4-2.4,1.4-4.3c0-3.4-2.4-4.8-7.4-3.9c-2.1,0.3-4,0.8-5.9,1.4
      c-1.8,0.6-3.5,1.2-4.8,1.7l0.1-9.5c1.6-0.6,3.5-1.2,5.6-1.8s4.2-1.1,6.5-1.5c5.9-0.9,10.2-0.6,13,1.2c2.8,1.7,4.2,5.1,4.1,10.1
      c0,2.5-0.5,4.7-1.5,6.5s-2.5,3.4-4.5,5c2.1,0.8,3.7,2.1,4.8,3.8s1.6,4,1.6,6.8C208.8,139.9,207.3,143.8,204.4,146.6z"/>
    <path fill="currentColor" d="M111.7,140.8c-0.9,0.1-1.8,0.4-2.6,0.8c-0.9,0.4-1.6,0.8-2.2,1.3l-0.1,5.6c0,3,0.3,5.2,1,6.4s2.1,1.7,4.1,1.4
      s3.4-1.2,4.1-2.5c0.7-1.4,1.1-3.3,1.2-5.9c0-2.9-0.4-4.9-1.2-5.9C115.2,140.9,113.7,140.5,111.7,140.8z"/>
  </svg>

  {% case 'facebook' %}
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
    <circle id="facebook-back" fill="currentColor" cx="64" cy="64" r="64"/>
    <path id="facebook-facebook" fill="#FFFFFF" d="M95.1367,29H32.8638C30.7295,29,29,30.729,29,32.8638v62.2729
      C29,97.2705,30.7295,99,32.8638,99h33.5249V71.8926h-9.1221v-10.565h9.1221v-7.7905c0-9.0415,5.5224-13.9648,13.5888-13.9648
      c3.8623,0,7.1827,0.2876,8.1504,0.4165v9.4487l-5.5927,0.0024c-4.3877,0-5.2364,2.0845-5.2364,5.1431v6.7446h10.461l-1.3623,10.565
      h-9.0987V99h17.8379C97.2705,99,99,97.2705,99,95.1367V32.8638C99,30.729,97.2705,29,95.1367,29z"/>
  </svg>

  {% case 'instagram' %}
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
    <circle fill="currentColor" cx="64" cy="64" r="64"/>
    <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M91.5713,58.4829h-6.2402
      c0.4541,1.7651,0.7236,3.6089,0.7236,5.5156c0,12.1831-9.875,22.0562-22.0552,22.0562c-12.1797,0-22.0542-9.8731-22.0542-22.0562
      c0-1.9067,0.2695-3.7505,0.7246-5.5156h-6.2407v30.3286c0,1.5205,1.2349,2.7549,2.7598,2.7549h49.6215
      c1.5254,0,2.7608-1.2344,2.7608-2.7549V58.4829z M91.5713,39.186c0-1.5219-1.2354-2.7568-2.7608-2.7568H80.542
      c-1.5225,0-2.7568,1.2349-2.7568,2.7568v8.272c0,1.522,1.2343,2.7568,2.7568,2.7568h8.2685c1.5254,0,2.7608-1.2348,2.7608-2.7568
      V39.186z M63.9995,50.2148c-7.6133,0-13.7847,6.1705-13.7847,13.7837c0,7.6128,6.1714,13.7867,13.7847,13.7867
      c7.6138,0,13.7857-6.1739,13.7857-13.7867C77.7852,56.3853,71.6133,50.2148,63.9995,50.2148 M91.5713,99.8398H36.4292
      c-4.5664,0-8.269-3.7041-8.269-8.2734V36.4292c0-4.5669,3.7026-8.269,8.269-8.269h55.1421c4.5674,0,8.2685,3.7021,8.2685,8.269
      v55.1372C99.8398,96.1357,96.1387,99.8398,91.5713,99.8398"/>
  </svg>

  {% case 'twitter' %}
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
    <circle id="twitter-back" fill="currentColor" cx="64" cy="64" r="64"/>
    <path id="twitter-twitter" fill="#FFFFFF" d="M99.8398,41.7695c-2.6367,1.17-5.4707,1.96-8.4462,2.3155
      c3.0351-1.8204,5.3681-4.7022,6.4658-8.1363c-2.8408,1.6851-5.9883,2.9097-9.3379,3.5689
      c-2.6826-2.8584-6.5049-4.6436-10.7344-4.6436c-8.123,0-14.7065,6.584-14.7065,14.7051c0,1.1533,0.1303,2.2754,0.3808,3.3516
      c-12.2221-0.6133-23.0581-6.4678-30.311-15.3648c-1.2661,2.1714-1.9912,4.6978-1.9912,7.3931c0,5.1015,2.5962,9.6025,6.542,12.2397
      c-2.4107-0.0757-4.6783-0.7378-6.6607-1.8393c-0.0014,0.0615-0.0014,0.123-0.0014,0.1855c0,7.125,5.0693,13.0684,11.7968,14.4199
      c-1.2343,0.336-2.5337,0.5157-3.8745,0.5157c-0.9477,0-1.8691-0.0928-2.7671-0.2637c1.8716,5.8418,7.3023,10.0937,13.7378,10.2119
      c-5.0332,3.9453-11.374,6.2959-18.2646,6.2959c-1.187,0-2.357-0.0693-3.5073-0.2051c6.5083,4.1729,14.2377,6.6065,22.5429,6.6065
      c27.0498,0,41.8418-22.4082,41.8418-41.8418c0-0.6377-0.0146-1.2715-0.0429-1.9024C95.375,47.3086,97.8691,44.7188,99.8398,41.7695
      z"/>
  </svg>

  {% case 'linkedin' %}
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
    <circle fill="currentColor" cx="64" cy="64" r="64"/>
    <path fill="#FFFFFF" d="M29.0752,51.7471h14.8686V99.54H29.0752V51.7471z M36.5137,27.9893c4.7514,0,8.6084,3.8593,8.6084,8.6137
      c0,4.7554-3.857,8.6143-8.6084,8.6143c-4.7705,0-8.6172-3.8589-8.6172-8.6143C27.8965,31.8486,31.7432,27.9893,36.5137,27.9893"/>
    <path fill="#FFFFFF" d="M53.2622,51.7471H67.5v6.5337h0.2041c1.9805-3.7574,6.8272-7.7198,14.0537-7.7198
      c15.0391,0,17.8184,9.896,17.8184,22.7671V99.54H84.7246V76.2979c0-5.542-0.0957-12.6719-7.7187-12.6719
      c-7.7286,0-8.9082,6.04-8.9082,12.2754V99.54H53.2622V51.7471z"/>
  </svg>

{% endswitch %}

{% endspaceless %}
{% endmacro %}



{# Output responsive background image class, srcset #}
{% macro outputBgAttributes(image, class) %}
{% spaceless %}

  {# Set up class #}
  {% if class is empty %}
    {% set class = '' %}
  {% else %}
    {% set class = class ~ ' ' %}
  {% endif %}

  {# Make sure we just have a single image and not the whole field value #}
  {% if image is iterable %}
    {% set image = image.first() %}
  {% endif %}

  {# Get transforms #}
  {% set transformedImages = craft.imager.transformImage(
    image,
    [
      { width: 1200, ratio: 16/9 },
      { width: 1024, ratio: 16/9 },
      { width: 768, ratio: 4/3, jpegQuality: 65 },
      { width: 320, ratio: 4/3, jpegQuality: 65 }
    ],
    {
      format: 'jpg',
      allowUpscale: false,
      mode: 'crop',
      jpegQuality: 80,
      position: image.focusPctX ~ '% ' ~ image.focusPctY ~ '%',
      interlace: true
    }
  ) %}

  {# Output attributes #}
  class="{{ class }}background lazyload" data-bgset="{{ craft.imager.srcset(transformedImages) }}" data-sizes="auto" style="background-position: {{ image.focusPctX }}% {{ image.focusPctY }}%;"
{% endspaceless %}
{% endmacro %}



{# Output responsive image with srcset #}
{% macro outputImage(image, class, lazyload) %}
{% spaceless %}
  
  {# Default lazyload to true #}
  {% set lazyload = lazyload ?? true %}
  
  {# Add space to class if we're lazyloading, or set it to an empty string if not included #}
  {% if class is empty %}
    {% set class = '' %}
  {% elseif lazyload %}
    {% set class = class ~ ' ' %}
  {% endif %}

  {# Make sure we just have a single image and not the whole field value #}
  {% if image is iterable %}
    {% set image = image.first() %}
  {% endif %}

  {# Get transforms #}
  {% set transformedImages = craft.imager.transformImage(
    image,
    [
      { width: 1200, ratio: 16/9 },
      { width: 1024, ratio: 16/9 },
      { width: 768, ratio: 4/3, jpegQuality: 65 },
      { width: 320, ratio: 4/3, jpegQuality: 65 }
    ],
    {
      format: 'jpg',
      allowUpscale: false,
      mode: 'crop',
      jpegQuality: 80,
      position: image.focusPctX ~ '% ' ~ image.focusPctY ~ '%',
      interlace: true
    }
  ) %}

  {# Output image #}
  {% if lazyload %}
  <img class="{{ class }}lazyload" src="{{ craft.imager.base64Pixel(2,1) }}" data-sizes="100vw" data-srcset="{{ craft.imager.srcset(transformedImages) }}" alt="{{ image.title }}">
  {% else %}
  <img class="{{ class }}" src="{{ transformedImages[1].url }}" sizes="100vw" srcset="{{ craft.imager.srcset(transformedImages) }}" alt="{{ image.title }}">
  {% endif %}

{% endspaceless %}
{% endmacro %}

